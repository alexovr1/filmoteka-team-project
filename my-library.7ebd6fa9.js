!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequire3143;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var i={id:e,exports:{}};return n[e]=i,a.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){t[e]=n},e.parcelRequire3143=a),a("jV26q");var i=a("kuRFM"),s=a("5ofdx"),r=a("7lkZZ");const o={watched:document.querySelector(".watched"),queue:document.querySelector(".queue"),container:document.querySelector(".cards-container"),modaHugelCard:document.querySelector(".modal-film__wrapper"),modal:document.querySelector("[data-modal]"),closeModalBtn:document.querySelector("[data-modal-close]")},c=e=>{try{const n=localStorage.getItem(e);return null===n?void 0:JSON.parse(n)}catch(e){console.error("Get state error: ",e.message)}},l=c("watched"),d=c("queue");function u(){if(o.watched.classList.add("active"),o.queue.classList.remove("active"),o.container.innerHTML="",l){const e=l.map((({id:e,date:n,genres:t,title:a,poster:i,vote:s})=>`<div class="card-container" data-id="${e}">\n                  <img src="https://image.tmdb.org/t/p/w500${i}" alt="${a}" class="film-img" />\n                  <h2 class="film-title">${a}</h2>\n                  <div class="info-container">\n                      <span class="film-genres">${1===t.length?`${t[0]}`:2===t.length?`${t[0]}, ${t[1]}`:t.length>2?`${t[0]}, ${t[1]}, Other`:""} |</span>\n                      <span class="film-relise">${n.slice(0,4)}</span>\n                      <span class="lib-modal-film__vote">${s.toPrecision(2)}</span>\n                  </div>\n              </div>`)).join("");o.container.insertAdjacentHTML("beforeend",e)}else o.container.innerHTML="",o.container.insertAdjacentHTML("afterbegin",'<p class="library__empty">Oops! There`cos nothing to show there!</p>')}function f(){o.modal.classList.toggle("is-hidden")}o.queue.addEventListener("click",(function(){if(o.queue.classList.add("active"),o.watched.classList.remove("active"),o.container.innerHTML="",d){const e=d.map((({id:e,date:n,genres:t,title:a,poster:i,vote:s})=>`<div class="card-container" data-id="${e}">\n                  <img src="https://image.tmdb.org/t/p/w500${i}" alt="${a}" class="film-img" />\n                  <h2 class="film-title">${a}</h2>\n                  <div class="info-container">\n                      <span class="film-genres">${t.join(", ")} |</span>\n                      <span class="film-relise">${n.slice(0,4)}</span>\n                      <span class="lib-modal-film__vote">${s.toPrecision(2)}</span>\n                  </div>\n              </div>`)).join("");o.container.insertAdjacentHTML("beforeend",e)}else o.container.innerHTML="",o.container.insertAdjacentHTML("afterbegin",'<p class="library__empty">Oops! There`s nothing to show there!</p>')})),o.watched.addEventListener("click",u),o.container.addEventListener("click",(async function(e){if("cards-container"===e.target.className)return;const n=e.target.closest(".card-container").dataset.id;(async function(e){o.modaHugelCard.innerHTML="",o.modaHugelCard.insertAdjacentHTML("beforeend",(0,r.default)(e.data)),(0,i.default)(e.data)})(await(0,s.filmInfo)(n)),o.container.addEventListener("click",f),o.closeModalBtn.addEventListener("click",f)})),u()}();
//# sourceMappingURL=my-library.7ebd6fa9.js.map
